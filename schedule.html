<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/styles.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
      integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="./js/common.js"></script>
    <script>
      
      window.onload = () => {
        const events = [
		  {
            name: "Registration Opens",
            deadline: "Dec 29, 2022",
            calculateWhen: true,
          },
          {
            name: "Training Data Release",
            deadline: "February 11, 2023",
            calculateWhen: true,
          },
          {
            name: "Test Data Release",
            deadline: "March 24, 2023",
            calculateWhen: true,
          },
          {
            name: "Brief Description of System due",
            deadline: "March 28, 2023",
            calculateWhen: true,
          },
          {
            name: "Results due by email",
            deadline: "March 31, 2023",
            calculateWhen: true,
          },
          {
            name: "Winners Announcement",
            deadline: "April 2023",
            calculateWhen: false,
          },
        ];

        const table = document
          .getElementById("events-table")
          .getElementsByTagName("tbody")[0];
        events.forEach((event) => {
          const row = table.insertRow();
          const time = moment(event.deadline);
          const isDone = time.isBefore(moment());

          const commonClasses = "p-2 whitespace-nowrap";

          const eventCell = row.insertCell(0);
          eventCell.className += commonClasses;
          const deadlineCell = row.insertCell(1);
          deadlineCell.className += commonClasses;
          const timeToEventCell = row.insertCell(2);
          timeToEventCell.className += commonClasses + " text-center";
          const statusCell = row.insertCell(3);
          statusCell.className += commonClasses + " text-center";

          eventCell.innerHTML = event.name;
          deadlineCell.innerHTML = event.deadline;
          timeToEventCell.innerHTML = event.calculateWhen
            ? time.fromNow()
            : "N/A";
            
          statusCell.innerHTML = `
            <span
                        class="relative inline-block px-3 py-1 font-semibold ${
                          isDone ? "text-green-900" : "text-red-900"
                        } leading-tight"                      >
                        <span
                          aria-hidden
                          class="absolute inset-0 ${
                            isDone ? "bg-green-200" : "bg-red-200"
                          } opacity-50 rounded-full"
                        ></span>
                        <span class="relative">
                          ${isDone ? "Done" : "Pending"}
                        </span>
                      </span>
            `;
        });
      };
    </script>
    <title>ICDAR 2023 - CHART Competition</title>
  </head>
  <body>
    <div class="h-screen" style="overflow-x: hidden">
      <!-- Header -->
      <div id="header">
		<!-- relative h-screen-1/3 -->
        <div style="height: 80px;">
		  <!-- bg-transparent -->
          <nav id="navbar" class="border-gray-200 px-2 sm:px-4 py-2.5 rounded bg-white">
            <div class="container flex flex-wrap justify-center items-center mx-auto" >              
			  <div style="padding-left: 50px;padding-right: 50px;">
				<!--<img src="./img/icdar2023_logo_light_horizontal.png" style="height: 50px;"> -->
				<img src="./img/draft_logo_light_horizontal_chart_only.png" style="height: 50px;">				
			  </div>
              <div class="hidden w-full md:block md:w-auto" id="mobile-menu">
                <ul
                  class="flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"
                >
                  <li>
                    <a
                      href="./index.html"
                      class="block hover:bg-stone-700 hover:text-white px-3 py-2 w-full rounded-md text-md font-semibold"
                      >Home</a
                    >
                  </li>
                  <li>
                    <a
                      href="./tasks.html"
                      class="block text-dark hover:bg-stone-700 hover:text-white px-3 py-2 rounded-md text-md font-semibold"
                      >Tasks</a
                    >
                  </li>
                  <li>
                    <a
                      href="./schedule.html"
                      class="block text-dark hover:bg-stone-700 hover:text-white text-white bg-stone-700 px-3 py-2 rounded-md text-md font-semibold"
                      >Schedule</a
                    >
                  </li>
				  <li>
                    <a
                      href="./registration.html"
                      class="block text-dark hover:bg-stone-700 hover:text-white px-3 py-2 rounded-md text-md font-semibold"
                      >Registration</a
                    >
                  </li>
                  <li>
                    <a
                      href="./toolsanddata.html"
                      class="block text-dark hover:bg-stone-700 hover:text-white px-3 py-2 rounded-md text-md font-semibold"
                      >Tools and Data</a
                    >
                  </li>
                  <li>
                    <a
                      href="./contactus.html"
                      class="block text-dark hover:bg-stone-700 hover:text-white px-3 py-2 rounded-md text-md font-semibold"
                      >Contact Us</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </nav>          
        </div>
      </div>

      <!-- Schedule's Content -->
      <div class="container mx-auto px-4 text-justify">
        <div class="text-center">
          <h1 class="font-medium leading-tight text-4xl my-4 text-gray-600">Competition Schedule</h1>
        </div>
        <div class="flex flex-col justify-center overflow-x-auto">
          <table id="events-table" class="table-auto w-full">
            <thead
              class="text-xs font-semibold uppercase text-gray-600 bg-gray-200"
            >
              <tr>
                <th class="p-2 whitespace-nowrap">
                  <div class="font-semibold text-left">Event</div>
                </th>
                <th class="p-2 whitespace-nowrap">
                  <div class="font-semibold text-left">Deadline</div>
                </th>
                <th class="p-2 whitespace-nowrap">
                  <div class="font-semibold text-left">Time to event</div>
                </th>
                <th class="p-2 whitespace-nowrap">
                  <div class="font-semibold text-left">Status</div>
                </th>
              </tr>
            </thead>
            <tbody class="text-sm divide-y divide-gray-100"></tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
